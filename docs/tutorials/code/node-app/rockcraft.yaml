# [docs:rock-metadata]
name: my-node-app
base: ubuntu@22.04
version: '1.0'
summary: A ROCK that bundles a simple nodejs app
description: |
  This ROCK bundles a recent node runtime to serve a simple "hello-world" app.
license: GPL-3.0
platforms:
  amd64:
# [docs:rock-metadata-end]

# [docs:pebble-service]
services:
    app:
        override: replace
        command: node server.js
        startup: enabled
        on-success: shutdown
        on-failure: shutdown
        working-dir: /lib/node_modules/node_web_app
# [docs:pebble-service-end]

# [docs:app-part]
parts:
    app:
        plugin: npm
        npm-include-node: True
        npm-node-version: "21.1.0"
        source: src/
# [docs:app-part-end]
