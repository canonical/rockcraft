.. _release-1.7.0:

Rockcraft 1.7.0 release notes
=============================

20 December 2024

Learn about the new features, changes, and fixes introduced in Rockcraft 1.7.0.
For information about the Rockcraft release cycle, see the
:ref:`release_policy_and_schedule`.


What's new
----------

Rockcraft 1.7.0 brings the following features, integrations, and improvements.


Support for remote builds
~~~~~~~~~~~~~~~~~~~~~~~~~

We added support for remote builds, which leverage off-site compute for
building rocks and can build for multiple architectures with a single command.
Remote builds are hosted on Launchpad.

This feature is experimental and subject to change. Feel free to provide
feedback on the `Ubuntu Discourse`_ forum.

Minor features
--------------

Rockcraft 1.7.0 brings the following minor changes.


``init`` command
~~~~~~~~~~~~~~~~

- The default base of the project file generated by ``rockcraft init`` has been
  updated from "ubuntu@22.04" to "ubuntu@24.04".


Rockcraft snap
~~~~~~~~~~~~~~

The base of the Rockcraft snap was updated from core22 to core24.


Go extension
~~~~~~~~~~~~

A new :ref:`tutorial <build-a-rock-for-a-go-application>` and :ref:`reference
<go-framework-reference>` are available for the go-framework extension.


OCI image configuration
~~~~~~~~~~~~~~~~~~~~~~~

- When using ``run-user: _daemon_``, the value of the ``Config.User`` key in the
  generated rock has been updated from the user name (``_daemon_``) to its
  numeric ID.


12-factor documentation
~~~~~~~~~~~~~~~~~~~~~~~

- The documentation for the various 12-factor framework extensions has been
  updated for clarity and to better conform with documentation best practices.


Maven and Ant plugins
~~~~~~~~~~~~~~~~~~~~~

- Updated the Maven and Ant plugins to generate the ``/usr/bin/java`` path to
  the Java runtime executable, instead of the ``/bin/java`` symlink which
  conflicts with the user-merged Ubuntu base.


Fixed bugs and issues
---------------------

The following issues have been resolved in Rockcraft 1.7.0:

- `#659`_ Kubernetes ``runAsNonRoot`` incompatibility with
  ``run-user: _daemon_``.
- `#749`_ Trying to build the output of "expand-extensions" fails because of the
  pebble part.


Contributors
------------

We would like to express a big thank you to all the people who contributed to
this release.

:literalref:`@dariuszd21<https://github.com/dariuszd21>`,
:literalref:`@erinecon<https://github.com/erinecon>`,
:literalref:`@javierdelapuente<https://github.com/javierdelapuente>`,
:literalref:`@lengau<https://github.com/lengau>`,
:literalref:`@linostar<https://github.com/linostar>`,
:literalref:`@tigarmo<https://github.com/tigarmo>`
and :literalref:`@vpa1977<https://github.com/vpa1977>`.

.. _Ubuntu Discourse: https://discourse.ubuntu.com/c/rocks/rockcraft/118

.. _#659: https://github.com/canonical/rockcraft/issues/659
.. _#749: https://github.com/canonical/rockcraft/issues/659
