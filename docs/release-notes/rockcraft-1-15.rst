.. _release-1.15:

Rockcraft 1.15 release notes
============================

13 October 2025

Learn about the new features, changes, and fixes introduced in Rockcraft 1.15.
For information about the Rockcraft release cycle, see the
:ref:`release_policy_and_schedule`.


Requirements and compatibility
------------------------------

To run Rockcraft, a system requires the following minimum hardware and
installed software. These requirements apply to local hosts as well as VMs and
container hosts.


Minimum hardware requirements
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- AMD64, ARM64, ARMv7-M, RISC-V 64-bit, PowerPC 64-bit little-endian, or S390x
  processor
- 2GB RAM
- 10GB available storage space
- Internet access for remote software sources and the Snap Store


Platform requirements
~~~~~~~~~~~~~~~~~~~~~

.. list-table::
  :header-rows: 1
  :widths: 1 3 3

  * - Platform
    - Version
    - Software requirements
  * - GNU/Linux
    - Popular distributions that ship with systemd and are `compatible with
      snapd <https://snapcraft.io/docs/installing-snapd>`_
    - systemd


What's new
----------

Rockcraft 1.15 brings the following features, integrations, and improvements.

Support for interim Ubuntu bases
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Rockcraft now supports packing rocks built with interim Ubuntu bases, starting with
``ubuntu@25.10``. Since this version of Ubuntu is in development at time of
release, to select this base you must also set ``build-base: devel``.

Improved support for unmaintained bases
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

When you pack rocks with Ubuntu bases that have reached the end of their standard
support, you must now acknowledge that the base is unmaintained. At the time of
release, this affects the ``ubuntu@20.04`` base. Standard support for it ended on
31 May, 2025.

See :ref:`how-to-specify-a-base` for instructions on how to pack your rock under these
circumstances.

Improved usrmerge support
~~~~~~~~~~~~~~~~~~~~~~~~~

We have made strides in adapting the build process to the usrmerged filesystem commonly
found in Linux distributions, Ubuntu included. Going forward, projects built on base
``ubuntu@25.10`` can handle usrmerge conflicts better, making parts compatible with a
broader share of Debian packages and Chisel slices.

See :ref:`explanation-usrmerge-implementation` for details on the motivation for the
change and ways to control the behavior on a per-project basis.

Python plugin for ``ubuntu@25.10`` base
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The behavior of the Python plugin for Rockcraft projects with base ``ubuntu@25.10`` and
higher has been significantly changed to address weaknesses in the previous
implementation.

The :ref:`python_v2_plugin` is largely compatible with existing
projects but has better support for usrmerge. It's considered experimental
while the ``ubuntu@25.10`` base is still in development.

Minor features
--------------

Rockcraft 1.15 brings the following minor changes.

Rockcraft project file
~~~~~~~~~~~~~~~~~~~~~~

The minimum length of the ``name`` key has been changed from 3 characters to 1.

Lifecycle commands
~~~~~~~~~~~~~~~~~~

When you run a lifecycle command with ``--debug``, Rockcraft will now print the error
before opening a shell into the build environment.

``stage-packages``
~~~~~~~~~~~~~~~~~~

Fixed an issue that caused Apt to warn about directory ownership when including
``stage-packages``.

Overlays
~~~~~~~~

- The superfluous message ``unknown argument ignored: lazytime`` that appeared when the
  project includes ``overlay-packages`` or ``overlay-script`` has been removed.
- The detection of collisions between files coming from the overlay and from regular
  builds has been further improved.

Autotools plugin
~~~~~~~~~~~~~~~~

The :ref:`craft_parts_autotools_plugin` now supports the :ref:`disable-parallel
<PartSpec.disable_parallel>` key to force builds using the plugin to run using a single
job.

Documentation for bases
~~~~~~~~~~~~~~~~~~~~~~~

We've added :ref:`how-to-specify-a-base`, a how-to guide that covers all the different
cases for bases in a rock.

Documentation for 12-factor app extensions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The tutorial and reference pages for all 12-factor app extensions were improved
based on user feedback. Additionally, links to the documentation and to the Matrix
channel have been added to project files generated by the ``init`` command.

Documentation submodule name change
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The Git submodule containing documentation components has been renamed to
``sphinx-docs-starter-pack`` to match its parent repository.

If you're a returning contributor to the project, after you pull the latest commits, run
the following commands in your local repository to sync the submodule change:

.. code-block::

    git submodule sync
    git submodule update --init --recursive
    git clean -ffd

Contributors
------------

We would like to express a big thank you to all the people who contributed to
this release.

:literalref:`@alesancor1 <https://github.com/alesancor1>`,
:literalref:`@bepri <https://github.com/bepri>`,
:literalref:`@cjdcordeiro <https://github.com/cjdcordeiro>`,
:literalref:`@erinecon <https://github.com/erinecon>`,
:literalref:`@jahn-junior <https://github.com/jahn-junior>`,
:literalref:`@javierdelapuente <https://github.com/javierdelapuente>`,
:literalref:`@lengau <https://github.com/lengau>`,
:literalref:`@medubelko <https://github.com/medubelko>`,
:literalref:`@tigarmo <https://github.com/tigarmo>`,
and :literalref:`@upils <https://github.com/upils>`.

.. _CONTRIBUTING.md: https://github.com/canonical/rockcraft/blob/main/CONTRIBUTING.md
